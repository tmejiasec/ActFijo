<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html   xmlns="http://www.w3.org/1999/xhtml"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:p="http://primefaces.org/ui"
        xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"        
        xmlns:ui="http://java.sun.com/jsf/facelets">

    <ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                    template="./../plantillas/plantilla2.xhtml">


        <ui:define name="content">
            <ul class="nav nav-tabs">
                <li class="active"><a aria-expanded="true" href="#adicion" data-toggle="tab">Adición</a></li>
                <li class=""><a aria-expanded="false" href="#consulta" data-toggle="tab">Consulta</a></li>
                <li class=""><a aria-expanded="false" href="#seguimiento" data-toggle="tab">Seguimiento</a></li>
                <li class=""><a aria-expanded="false" href="#imagenes" data-toggle="tab">Imágenes</a></li>
            </ul>
            <div id="myTabContent" class="tab-content">
                <div class="tab-pane fade active in" id="adicion">
                    <div class="well bs-component">
                        <h:form id="adiMBien" class="form-horizontal" enctype="multipart/form-data" >
                            <p:growl id="growl" />
                            <legend>
                                <div class="form-header">
                                    <h4 class="modal-title">Adición de Movimientos de Bienes Muebles</h4>
                                </div>
                            </legend>
                            <h:panelGroup id="adicMov"> 

                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label >Tipo de Movimiento</label>
                                        <legend>TRASLADO</legend>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="anio" >Año</label>
                                        <div>
                                            <p:inputText id="anio" value="#{movBienesBean.nuevoEnca.TMoveAnio}"> 
                                                <p:ajax listener="#{movBienesBean.buscarCorr}" update="@this :adiMBien:growl :adiMBien:corr"/>
                                            </p:inputText>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Correlativo</label>
                                        <div>
                                            <h:outputText id="corr" value="#{movBienesBean.nuevoEnca.TMoveCorr}"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Estado del Movimiento</label>
                                        <legend>REVISION</legend>
                                    </div>                                
                                </div>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label >Nivel Organizativo Solicitante</label>
                                        <div >
                                            <h:selectOneMenu id="nivels" value="#{movBienesBean.nuevoEnca.TMoveNivs}" style="width: 100%;" >
                                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                                <f:selectItems value="#{movBienesBean.niveles}" var="niv" itemLabel="#{niv.CNivelDescrip}" itemValue="#{niv.CNivelId}" />
                                                <p:ajax  listener="#{movBienesBean.depSeleccionA()}" update="depen"/>                         
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Dependencia Solicitante</label>
                                        <div >
                                            <h:selectOneMenu id="depen" value="#{movBienesBean.nuevoEnca.TMoveDeps}" style="width: 100%" >
                                                <f:selectItem itemLabel="Seleccione una..." noSelectionOption="true" itemValue=""/>
                                                <f:selectItems value="#{movBienesBean.depens}" var="depe" itemLabel="#{depe.CDepenDesc}" itemValue="#{depe.CDepenId}"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="respos" >Persona Solicitante</label>
                                        <h:selectOneMenu id="respos" value="#{movBienesBean.nuevoEnca.TMovePers}" style="width: 100%" >
                                            <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                            <f:selectItems value="#{movBienesBean.respons}" var="resp" itemLabel="#{resp.CRespApe1} #{resp.CRespApe2} #{resp.CRespApec} #{resp.CRespNom1} #{resp.CRespNom2}" itemValue="#{resp.CRespId}"/>
                                        </h:selectOneMenu>  
                                    </div>
                                    <div class="col-md-3">
                                        <label for="cargos" >Cargo de Persona Solicitante</label>
                                        <h:outputText id="cargos" value="#{resp.CRespCargo}"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label >Nivel Organizativo Responsable</label>
                                        <div >
                                            <h:selectOneMenu id="nivel" value="#{movBienesBean.nuevoEnca.TMoveNive}" style="width: 100%;" >
                                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                                <f:selectItems value="#{movBienesBean.niveles}" var="nive" itemLabel="#{nive.CNivelDescrip}" itemValue="#{nive.CNivelId}" />
                                                <p:ajax  listener="#{movBienesBean.depSeleccionE()}" update="depene"/>                         
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Dependencia Responsable</label>
                                        <div >
                                            <h:selectOneMenu id="depene" value="#{movBienesBean.nuevoEnca.TMoveDepe}" style="width: 100%" >
                                                <f:selectItem itemLabel="Seleccione una..." noSelectionOption="true" itemValue=""/>
                                                <f:selectItems value="#{movBienesBean.depense}" var="deper" itemLabel="#{deper.CDepenDesc}" itemValue="#{deper.CDepenId}"/>
                                            </h:selectOneMenu>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="respoe" >Persona Responsable del Bien</label>
                                        <h:selectOneMenu id="respo" value="#{movBienesBean.nuevoEnca.TMovePere}" style="width: 100%" >
                                            <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                            <f:selectItems value="#{movBienesBean.respons}" var="respe" itemLabel="#{respe.CRespApe1} #{respe.CRespApe2} #{respe.CRespApec} #{respe.CRespNom1} #{respe.CRespNom2}" itemValue="#{respe.CRespId}"/>
                                            <p:ajax  listener="#{movBienesBean.genTabla()}" update="seleccionar_bienes"/>                         
                                        </h:selectOneMenu>  
                                    </div>
                                    <div class="col-md-3">
                                        <label for="cargor" >Cargo de Persona Responsable</label>
                                        <h:outputText id="cargor" value="#{respe.CRespCargo}"/>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label for="fecs">Fecha de Salida del Bien</label>
                                        <div>
                                            <p:calendar id="fecs"
                                                        value="#{movBienesBean.nuevoEnca.TMoveFecsal}" locale="es"
                                                        pattern="dd/MM/yyyy" showOn="button" 
                                                        size="12" tabindex="2" style="width: 100%;">
                                                <p:ajax event="dateSelect" />
                                            </p:calendar>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="fecr">Fecha de Retorno del Bien</label>
                                        <div>
                                            <p:calendar id="fecr"
                                                        value="#{movBienesBean.nuevoEnca.TMoveFecret}" locale="es"
                                                        pattern="dd/MM/yyyy" showOn="button" 
                                                        size="12" tabindex="2" style="width: 100%;">
                                                <p:ajax event="dateSelect" />
                                            </p:calendar>
                                        </div>
                                    </div>  
                                    <div class="col-md-3">
                                    </div>
                                    <div class="col-md-3">
                                        <label for="using">Ingresado Por</label>
                                        <div>
                                            <h:outputText id="using" value="#{appSession.usuario.CUserNombre}"/>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group">
                                    <h:outputLabel value="Observaciones: " />
                                    <p:inputTextarea value="#{movBienesBean.nuevoEnca.TMoveObser}"
                                                     rows="3" style="width: 98%;" autoResize="false" tabindex="9"/>
                                </div>
                                <div class="form-group">
                                    <div class="col-lg-12 col-lg-offset-9">
                                        <h:commandButton id="guardEnc" value="Guardar Encabezado"  styleClass="btn btn-primary" >
                                            <f:setPropertyActionListener value="#{movBienesBean.enca}" target="#{movBienesBean.nuevoEnca}" />
                                            <p:ajax listener="#{movBienesBean.guardarE()}" rendered="#{!movBienesBean.edit}" process="@this :adiMBien" update="growl guardEnc" />
                                        </h:commandButton>	

                                    </div>

                                </div>
                            </h:panelGroup>
                            <!--aqui agregar dialogo para adicionar datos complementarios-->

                            <!--aqui agregar tabla de detalle de movimientos-->
                            <div class="table table-responsive table-bordered" >
                                <p:dataTable id="encab" var="detalle" value="#{movBienesBean.movdeta}" rowKey="#{detalle.TBienId}" paginator="true"  paginatorPosition="top" rows="4" emptyMessage="No hay datos agregados">
                                    <p:column headerText="Codigo" filterBy="#{detalle.TBienId.TBienCodigo}"  style="width:125px;" >
                                        <h:outputText value="#{detalle.TMovdCodigo}">
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Descripción" >
                                        <h:outputText value="#{detalle.TBienId.TBienDesc}">
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Marca">
                                        <h:outputText value="#{detalle.TBienId.CMarcaId.CMarcaDesc}">
                                        </h:outputText>
                                    </p:column>
                                    <p:column headerText="Modelo">
                                        <h:outputText value="#{detalle.TBienId.TBienModelo}">
                                        </h:outputText>
                                    </p:column>   
                                    <p:column headerText="Serie">
                                        <h:outputText value="#{detalle.TBienId.TBienSerie}">
                                        </h:outputText>
                                    </p:column>  
                                </p:dataTable>
                                <div class="form-group">
                                    <div class="col-lg-6 col-lg-offset-9">
                                        <p:commandButton id="agregaDet" value="Adicionar Bienes"  styleClass="btn btn-primary" pt:data-toggle="modal" pt:data-target="#adicDetmov" />
                                    </div>
                                </div>
                            </div>
                            <!--// probar aqui los botones -->

                            <div id="adicDetmov" class="modal">
                                <div class="modal-dialog">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cerrar ×</button>
                                            <h4 class="modal-title">Seleccionar Bienes a Agregar a Movimiento</h4>
                                        </div>
                                        <div class="modal-body">
                                            <div class="table table-responsive table-bordered" >
                                                <p:dataTable id="seleccionar_bienes" var="bienR" value="#{movBienesBean.bienes}" selection="#{movBienesBean.selectedBienes}" rowKey="#{bienR.TBienId}" paginator="true"  paginatorPosition="top" rows="4" emptyMessage="No hay códigos para agregar">
                                                    <p:column selectionMode="multiple" style="width:40px;"/>
                                                    <p:column headerText="Codigo" filterBy="#{bienR.TBienCodigo}" filterMatchMode="contains" style="width:125px;" >
                                                        <h:outputText value="#{bienR.TBienCodigo}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Descripción" >
                                                        <h:outputText value="#{bienR.TBienDesc}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Marca">
                                                        <h:outputText value="#{bienR.CMarcaId.CMarcaDesc}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Modelo">
                                                        <h:outputText value="#{bienR.TBienModelo}">
                                                        </h:outputText>
                                                    </p:column>   
                                                    <p:column headerText="Serie">
                                                        <h:outputText value="#{bienR.TBienSerie}">
                                                        </h:outputText>
                                                    </p:column>                                                    
                                                </p:dataTable>
                                                <div class="form-group">
                                                    <div>
                                                        <p:commandButton icon="ui-icon-plusthick" value="Agregar" process="@this seleccionar_bienes" action="#{movBienesBean.updateDetalle()}" update=":adiMBien:encab" oncomplete="#adicDetmov.hide();" style="margin-top: 10px;"/>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <!--                                        <div class="modal-footer">
                                                                                    <button class="btn btn-default">Cancelar</button>
                                                                                </div>-->
                                    </div>
                                </div>
                            </div>
                            <div class="form-group">
                                <div class="col-lg-12 col-lg-offset-9">
                                    <p:commandButton id="Nuevo" value="Agregar Otro Movimiento" class="btn btn-primary"
                                                     action="#{movBienesBean.limpiarE()}" process="@this" update=":adiMBien:adicMov encab">
                                    </p:commandButton>
                                </div>
                            </div>
                        </h:form>

                    </div>
                </div>
                <div class="tab-pane fade" id="consulta">
                    <h:head></h:head>                    
                    <h:form id="formMBien" >
                        <div class="table table-responsive table-bordered" >
                            <table id="movbienes" class="table table-striped table-condensed paginada" >
                                <thead>
                                    <tr align="center">
                                        CONSULTA DE MOVIMIENTOS BIENES MUEBLES
                                    </tr>
                                    <tr>
                                        <th>Tipo de Movimiento</th>
                                        <th>Correlativo</th>
                                        <th>Año</th>
                                        <th>Estado</th>
                                        <th >Opciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ui:repeat value="#{movBienesBean.movenca}" var="mbien" >
                                        <tr>
                                            <td>#{mbien.CTipmId.CTipmDesc}</td>
                                            <td>#{mbien.TMoveCorr}</td>
                                            <td>#{mbien.TMoveAnio}</td>
                                            <td>#{mbien.CEstmovId.CEstmovDesc}</td>
                                            <td>
                                                <h:commandLink id="modi" value="Editar" class="btn btn-link" pt:data-toggle="modal" pt:data-target="#modifMbien" >
                                                    <f:setPropertyActionListener value="#{mbien}"
                                                                                 target="#{movBienesBean.encaSeleccionado}" />
                                                    <p:ajax process="@this" listener="#{movBienesBean.limpiaNom()}" update=":formMBien:modiMBien:displayB2"/>
                                                </h:commandLink>
                                            </td>
                                        </tr>
                                    </ui:repeat>
                                </tbody>  
                            </table>
                        </div>
                        <div id="modifMbien" class="modal">
                            <div class="modal-dialog">
                                <h:head></h:head>
                                <h:form id="modiMBien" >
                                    <p:growl id="growlm" />
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cancelar ×</button>
                                            <h4 class="modal-title">Modificación de Movimientos de Bienes Muebles</h4>
                                        </div>
                                        <div class="modal-body">
                                            <div class="panel panel-default">
                                                <div class="panel-body" id="modiPy2">
                                                    <h:panelGroup id="displayB2"> 
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label >Tipo de Movimiento</label>
                                                                <legend>TRASLADO</legend>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label >Estado del Movimiento</label>
                                                                <legend>
                                                                    <h:outputText value="#{movBienesBean.encaSeleccionado.CEstmovId.CEstmovDesc}"/>
                                                                </legend>
                                                            </div>              
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label>Año</label>
                                                                <div>
                                                                    <h:outputText value="#{movBienesBean.encaSeleccionado.TMoveAnio}"/> 
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label >Correlativo</label>
                                                                <div>
                                                                    <h:outputText id="corr" value="#{movBienesBean.encaSeleccionado.TMoveCorr}"/>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label >Nivel Organizativo Solicitante</label>
                                                                <div >
                                                                    <h:selectOneMenu id="nivelsm" value="#{movBienesBean.encaSeleccionado.TMoveNivs}" style="width: 100%;" >
                                                                        <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                                                        <f:selectItems value="#{movBienesBean.niveles}" var="niv" itemLabel="#{niv.CNivelDescrip}" itemValue="#{niv.CNivelId}" />
                                                                        <p:ajax  listener="#{movBienesBean.depSeleccionM()}" update="depenm"/>                         
                                                                    </h:selectOneMenu>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label >Dependencia Solicitante</label>
                                                                <div >
                                                                    <h:selectOneMenu id="depenm" value="#{movBienesBean.encaSeleccionado.TMoveDeps}" style="width: 100%" >
                                                                        <f:selectItem itemLabel="Seleccione una..." noSelectionOption="true" itemValue=""/>
                                                                        <f:selectItems value="#{movBienesBean.depens}" var="depe" itemLabel="#{depe.CDepenDesc}" itemValue="#{depe.CDepenId}"/>
                                                                    </h:selectOneMenu>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label for="respos" >Persona Solicitante</label>
                                                                <h:selectOneMenu id="respos" value="#{movBienesBean.encaSeleccionado.TMovePers}" style="width: 100%" >
                                                                    <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                                                    <f:selectItems value="#{movBienesBean.respons}" var="resp" itemLabel="#{resp.CRespApe1} #{resp.CRespApe2} #{resp.CRespApec} #{resp.CRespNom1} #{resp.CRespNom2}" itemValue="#{resp.CRespId}"/>
                                                                </h:selectOneMenu>  
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="cargosm" >Cargo de Persona Solicitante</label>
                                                                <h:outputText id="cargosm" value="#{resp.CRespCargo}"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label >Nivel Organizativo Responsable</label>
                                                                <div>
                                                                    <h:outputText id="nivR" value="#{movBienesBean.nomNivE}" style="width: 100%;" />
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label >Dependencia Responsable</label>
                                                                <div >
                                                                    <h:outputText id="depR" value="#{movBienesBean.nomDepE}" style="width: 100%" />
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label >Persona Responsable del Bien</label>
                                                                <h:outputText id="resR" value="#{movBienesBean.nomRespE}" style="width: 100%" />
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label >Cargo de Persona Responsable</label>
                                                                <h:outputText id="carR" value="#{movBienesBean.cargoE}"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-6">
                                                                <label for="fecs">Fecha de Salida del Bien</label>
                                                                <div>
                                                                    <p:calendar id="fecs"
                                                                                value="#{movBienesBean.encaSeleccionado.TMoveFecsal}" locale="es"
                                                                                pattern="dd/MM/yyyy" showOn="button" 
                                                                                size="12" tabindex="2" style="width: 100%;">
                                                                        <p:ajax event="dateSelect" />
                                                                    </p:calendar>
                                                                </div>
                                                            </div>
                                                            <div class="col-md-6">
                                                                <label for="fecr">Fecha de Retorno del Bien</label>
                                                                <div>
                                                                    <p:calendar id="fecr"
                                                                                value="#{movBienesBean.encaSeleccionado.TMoveFecret}" locale="es"
                                                                                pattern="dd/MM/yyyy" showOn="button" 
                                                                                size="12" tabindex="2" style="width: 100%;">
                                                                        <p:ajax event="dateSelect" />
                                                                    </p:calendar>
                                                                </div>
                                                            </div>  
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-md-12">
                                                                <h:outputLabel value="Observaciones: " />
                                                                <p:inputTextarea value="#{movBienesBean.encaSeleccionado.TMoveObser}"
                                                                                 rows="3" style="width: 98%;" autoResize="false" tabindex="9"/>
                                                            </div>
                                                        </div>
                                                        <div class="form-group">
                                                            <div class="col-lg-10 col-lg-offset-4">
                                                                <p:commandButton id="verDet" value="Ver Detalle"  styleClass="btn btn-primary" action="#{movBienesBean.genDeta()}" update=":formMBien:modiMBien:detam nivR depR resR carR"/>
                                                                <p:commandButton id="actEnc" value="Actualizar Encabezado"  styleClass="btn btn-primary" action="#{movBienesBean.actualE()}" process=":formMBien:modiMBien" update="growlm" oncomplete="#modifMbien.hide();">
                                                                </p:commandButton>	

                                                            </div>
                                                        </div>
                                                    </h:panelGroup>  
                                                </div>
                                            </div>
                                            <div class="table table-responsive table-bordered" >
                                                <p:dataTable id="detam" var="detallem" value="#{movBienesBean.movdeta}" rowKey="#{detallem.TBienId}" paginator="true"  paginatorPosition="top" rows="4" emptyMessage="No hay datos agregados">
                                                    <p:column headerText="Codigo" filterBy="#{detallem.TMovdCodigo}"  style="width:125px;" >
                                                        <h:outputText value="#{detallem.TMovdCodigo}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Descripción" >
                                                        <h:outputText value="#{detallem.TBienId.TBienDesc}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Marca">
                                                        <h:outputText value="#{detallem.TBienId.CMarcaId.CMarcaDesc}">
                                                        </h:outputText>
                                                    </p:column>
                                                    <p:column headerText="Modelo">
                                                        <h:outputText value="#{detallem.TBienId.TBienModelo}">
                                                        </h:outputText>
                                                    </p:column>   
                                                    <p:column headerText="Serie">
                                                        <h:outputText value="#{detallem.TBienId.TBienSerie}">
                                                        </h:outputText>
                                                    </p:column>  
                                                </p:dataTable>
                                            </div>

                                        </div>
                                        <div class="modal-footer">
                                            <div class="form-group">
                                                <div class="col-md-8">
                                                    <label >Modificado Por</label>
                                                </div>
                                                <div class="col-md-3">
                                                    <h:outputText value="#{appSession.usuario.CUserNombre}"/>
                                                </div>
                                            </div>
                                        </div>

                                    </div>


                                </h:form>
                            </div>
                        </div>
                    </h:form>
                </div>
                <div class="tab-pane fade" id="seguimiento">
                    <h:form id="formSeg" enctype="multipart/form-data" >
                        <p:growl id="growls" />
                        <legend>
                            <div class="form-header">
                                <h4 class="modal-title">Seguimiento de Movimientos de Bienes Muebles</h4>
                            </div>
                        </legend>
                        <h:panelGroup id="adicSMov"> 
                            <fieldset>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label>Tipo de Movimiento</label>
                                        <legend style="color:#157ab5">TRASLADO</legend>
                                    </div>
                                    <div class="col-md-3">
                                        <label for="anio" >Año</label>
                                        <div>
                                            <p:inputText id="anioS" value="#{movBienesBean.anio}" style="color:#157ab5"> 
                                                <p:ajax listener="#{movBienesBean.asigAnio()}" update="@this"/>
                                            </p:inputText>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Correlativo</label>
                                        <div>
                                            <p:inputText id="corrS" value="#{movBienesBean.correl}" style="color:#157ab5">
                                                <p:ajax listener="#{movBienesBean.buscarMov}" update="@this :formSeg:growls :formSeg:adicSMov :formSeg:seguim"/>
                                            </p:inputText>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Estado del Movimiento</label>
                                        <legend>
                                            <h:outputText value="#{movBienesBean.encaSeleccionado.CEstmovId.CEstmovDesc}" style="color:#157ab5"/>
                                        </legend>
                                    </div>                                
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend></legend>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label >Nivel Organizativo Solicitante</label>
                                        <div >
                                            <h:outputText id="nivS" value="#{movBienesBean.nomNivS}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Dependencia Solicitante</label>
                                        <div >
                                            <h:outputText id="depS" value="#{movBienesBean.nomDepS}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label> Persona Solicitante</label>
                                        <div>
                                            <h:outputText id="resS" value="#{movBienesBean.nomRespS}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Cargo de Persona Solicitante</label>
                                        <h:outputText id="cargS" value="#{movBienesBean.cargoS}" style="color:#157ab5"/>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend></legend>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label >Nivel Organizativo Responsable</label>
                                        <div >
                                            <h:outputText id="nivEr" value="#{movBienesBean.nomNivE}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label >Dependencia Responsable</label>
                                        <div >
                                            <h:outputText id="depEr" value="#{movBienesBean.nomDepE}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Persona Responsable del Bien</label>
                                        <div>
                                            <h:outputText id="RespSr" value="#{movBienesBean.nomRespE}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Cargo de Persona Responsable</label>
                                        <div>
                                            <h:outputText id="cargEr" value="#{movBienesBean.cargoE}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend></legend>
                                <div class="form-group">
                                    <div class="col-md-3">
                                        <label for="fecse">Fecha de Salida del Bien</label>
                                        <div>
                                            <h:outputText value="#{movBienesBean.encaSeleccionado.TMoveFecsal}" style="color:#157ab5">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="es" />
                                            </h:outputText>

                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Fecha de Retorno del Bien</label>
                                        <div>
                                            <h:outputText id="fecrSe" value="#{movBienesBean.encaSeleccionado.TMoveFecret}" style="color:#157ab5">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="es" />
                                            </h:outputText>
                                        </div>
                                    </div>  
                                    <div class="col-md-3">
                                        <label>Fecha Ingreso</label>
                                        <div>
                                            <h:outputText value="#{movBienesBean.encaSeleccionado.TMoveFechc}" style="color:#157ab5">
                                                <f:convertDateTime pattern="dd/MM/yyyy" locale="es" />
                                            </h:outputText>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <label>Ingresado Por</label>
                                        <div>
                                            <h:outputText value="#{movBienesBean.nomUs}" style="color:#157ab5"/>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                            <fieldset>
                                <legend></legend>
                                <div class="form-group">
                                    <h:outputLabel value="Observaciones: " />
                                    <p:inputTextarea value="#{movBienesBean.encaSeleccionado.TMoveObser}"
                                                     rows="3" style="width: 98%;" autoResize="false" tabindex="9"/>
                                </div>
                            </fieldset>
                            <div class="form-group">
                                <div class="col-lg-12 col-lg-offset-8">
                                    <p:commandButton id="verDeta" value="Ver Detalle de Bienes"  styleClass="btn btn-primary" action="#{movBienesBean.genDetaS()}" pt:data-toggle="modal" pt:data-target="#verDetaC" update=":formSeg:detaSeg :formSeg:seguim" />
                                    <p:commandButton id="agregaDet" value="Agregar Seguimiento"  styleClass="btn btn-primary" action="#{movBienesBean.llevaDatS()}" pt:data-toggle="modal" pt:data-target="#adicDetseg" update=":formSeg:seguim"/>
                                </div>
                            </div>
                        </h:panelGroup>
                        <!--aqui agregar dialogo para adicionar datos complementarios-->
                        <div class="table table-responsive table-bordered" >
                            <p:dataTable id="seguim" var="seg" value="#{movBienesBean.seguim}" rowKey="#{seg.TSegId}" paginator="true"  paginatorPosition="top" rows="4" emptyMessage="No hay seguimientos registrados">
                                <p:column headerText="Estado"  style="width:125px;" >
                                    <h:outputText value="#{seg.CEstmovId.CEstmovDesc}"/>
                                </p:column>
                                <p:column headerText="Observación" >
                                    <h:outputText value="#{seg.TSegObserv}"/>
                                </p:column>
                                <p:column headerText="Fecha">
                                    <h:outputText value="#{seg.TSegFecha}">
                                        <f:convertDateTime pattern="dd/MM/yyyy" locale="es" />
                                    </h:outputText>
                                </p:column>
                                <p:column headerText="Hora">
                                    <h:outputText value="#{seg.TSegHora}">
                                        <f:convertDateTime pattern="HH:mm a" locale="es" timeZone="America/Mexico_City"/>
                                    </h:outputText>
                                </p:column>   
                                <p:column headerText="Usuario">
                                    <h:outputText value="#{seg.CUserId.CUserNombre}">
                                    </h:outputText>
                                </p:column>  
                            </p:dataTable>

                        </div>

                        <!--aqui agregar tabla de detalle de movimientos-->
                        <div id="verDetaC" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                        <h4 class="modal-title">Bienes incluídos en este Movimiento</h4>
                                    </div>
                                    <div class="modal-body">
                                        <div class="table table-responsive table-bordered" >
                                            <p:dataTable id="detaSeg" var="detalle" value="#{movBienesBean.movdeta}" rowKey="#{detalle.TBienId}" paginator="true"  paginatorPosition="top" rows="4" emptyMessage="No hay datos agregados">
                                                <p:column headerText="Codigo" filterBy="#{detalle.TBienId.TBienCodigo}"  style="width:125px;" >
                                                    <h:outputText value="#{detalle.TMovdCodigo}">
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Descripción" >
                                                    <h:outputText value="#{detalle.TBienId.TBienDesc}">
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Marca">
                                                    <h:outputText value="#{detalle.TBienId.CMarcaId.CMarcaDesc}">
                                                    </h:outputText>
                                                </p:column>
                                                <p:column headerText="Modelo">
                                                    <h:outputText value="#{detalle.TBienId.TBienModelo}">
                                                    </h:outputText>
                                                </p:column>   
                                                <p:column headerText="Serie">
                                                    <h:outputText value="#{detalle.TBienId.TBienSerie}">
                                                    </h:outputText>
                                                </p:column>  
                                            </p:dataTable>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <!--// probar aqui los botones -->

                        <div id="adicDetseg" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <div class="modal-header">
                                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cerrar ×</button>
                                        <h4 class="modal-title">Adición de Seguimiento a Traslado</h4>
                                    </div>
                                    <div class="modal-body">
                                        <h:panelGroup id="adiSeg"> 
                                            <fieldset>
                                                <legend></legend>
                                                <div class="form-group">
                                                    <div class="col-md-3">
                                                        <label >Nuevo Estado</label>
                                                        <div >
                                                            <h:selectOneMenu id="estmo" value="#{movBienesBean.estmoSeleccionado}" style="width: 100%" >
                                                                <f:selectItem itemLabel="Seleccione uno..." noSelectionOption="true" itemValue=""/>
                                                                <f:selectItems value="#{movBienesBean.estmovs}" var="estmove" itemLabel="#{estmove.CEstmovDesc}" itemValue="#{estmove.CEstmovId}"/>
                                                            </h:selectOneMenu>
                                                        </div>                                                        
                                                    </div>
                                                    <div class="col-md-4">
                                                        <label >Fecha Seguimiento</label>
                                                        <div >
                                                            <p:calendar id="fecse"
                                                                        value="#{movBienesBean.nuevoSeg.TSegFecha}" locale="es"
                                                                        pattern="dd/MM/yyyy" showOn="button" 
                                                                        size="12" tabindex="2" style="width: 100%;">
                                                                <p:ajax event="dateSelect" />
                                                            </p:calendar>

                                                        </div>                                                        
                                                    </div>
                                                    <div class="col-md-5">
                                                        <label>Hora del Seguimiento</label>
                                                        <div>
                                                            <p:calendar id="time" value="#{movBienesBean.nuevoSeg.TSegHora}" pattern="HH:mm a" timeOnly="true" showOn="button">                                                               
                                                                <p:ajax update="@this time" />
                                                            </p:calendar>
                                                        </div>
                                                    </div>

                                                </div>
                                            </fieldset>
                                            <fieldset>
                                                <legend></legend>
                                                <div class="form-group">
                                                    <div class="col-md-12">
                                                        <label>Observación</label>
                                                        <div>
                                                            <p:inputTextarea value="#{movBienesBean.nuevoSeg.TSegObserv}"
                                                                             rows="3" style="width: 98%;" autoResize="false" tabindex="9"/>

                                                        </div>
                                                    </div>
                                                </div>
                                            </fieldset>
                                            <fieldset>
                                                <legend></legend>
                                                <div class="form-group">
                                                    <div class="col-md-8">
                                                        <label >Usuario que ejecuta el Seguimiento</label>
                                                        <div >
                                                            <h:outputText id="using" value="#{appSession.usuario.CUserNombre}"/>
                                                        </div>                                                        
                                                    </div>
                                                </div>
                                            </fieldset>
                                            <fieldset>
                                                <legend></legend>

                                                <div class="form-group">
                                                    <div>
                                                        <p:commandButton icon="ui-icon-plusthick" value="Guardar Seguimiento" process="@this adiSeg" action="#{movBienesBean.guardarS()}" update=":formSeg:seguim" oncomplete="#adicDetseg.hide();" style="margin-top: 10px;"/>
                                                    </div>
                                                </div>
                                            </fieldset>

                                        </h:panelGroup>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="form-group">
                            <div class="col-lg-12 col-lg-offset-9">
                                <p:commandButton id="Nuevo" value="Limpiar Datos" class="btn btn-primary"
                                                 action="#{movBienesBean.limpiarS()}" process="@this" update=":formSeg:adicSMov detaSeg seguim">
                                </p:commandButton>
                            </div>
                        </div>

                    </h:form>
                </div>

                <div class="tab-pane fade" id="imagenes">
                    <h:form id="formImag" enctype="multipart/form-data" >
                        <p:growl id="growl" />
                        <div class="table table-responsive table-bordered" >
                            <table id="tarchs" class="table table-striped table-condensed paginada">
                                <thead>

                                    <tr align="center">
                                        CONSULTA DE IMAGENES Y DOCUMENTOS DE MOVIMIENTOS DE BIENES
                                    </tr>
                                    <tr>
                                        <th>Correlativo</th>
                                        <th>Código</th>
                                        <th>Tipo</th>
                                        <th>Nombre</th>
                                        <th>Descripción</th>
                                        <th></th>
                                        <th></th>
                                        <th></th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <ui:repeat value="#{movBienesBean.docums}" var="docs" >
                                        <tr>
                                            <td>#{docs.TArchId}</td>
                                            <td>#{docs.TArchCodref}</td>
                                            <td>#{docs.TArchTipref}</td>
                                            <td>#{docs.TArchNombre}</td>
                                            <td>#{docs.TArchDesc}</td>
                                            <td>
                                                <h:commandLink value="Editar" class="btn btn-default" pt:data-toggle="modal" pt:data-target="#modifDoc">
                                                    <span class="glyphicon glyphicon-edit" aria-hidden="true"></span>
                                                    <f:setPropertyActionListener value="#{docs}"
                                                                                 target="#{movBienesBean.archSeleccionado}" />
                                                    <p:ajax process="@this" update=":formImag:modImag:dispDoc2"/>
                                                </h:commandLink>
                                            </td>
                                            <td>
                                                <h:commandLink value="Descargar" class="btn btn-default" pt:data-toggle="modal" pt:data-target="#viewDoc">
                                                    <span class="glyphicon glyphicon-save" aria-hidden="true"></span>
                                                    <f:setPropertyActionListener value="#{docs}"
                                                                                 target="#{movBienesBean.archSeleccionado}" />
                                                    <p:ajax process="@this" update=":formImag:verDoc:dispDocD"/>
                                                </h:commandLink>
                                            </td>
                                            <td>
                                                <h:commandLink value="Eliminar" class="btn btn-default" pt:data-toggle="modal" pt:data-target="#elimDoc">
                                                    <span class="glyphicon glyphicon-remove-circle" aria-hidden="true"></span>                                                    
                                                    <f:setPropertyActionListener value="#{docs}"
                                                                                 target="#{movBienesBean.archSeleccionado}" />
                                                    <p:ajax process="@this" update=":formImag:elimImag:dispDoc3"/>
                                                </h:commandLink>
                                            </td>
                                        </tr>
                                    </ui:repeat>
                                    <div class="col-md-6" align="center" >
                                        <a data-toggle="modal" href="#adiDoc" class="btn btn-primary" ><span class="glyphicon glyphicon-plus-sign" aria-hidden="true"></span>Agregar</a>
                                    </div>                              
                                </tbody>  
                            </table>
                        </div>
                        <div id="adiDoc" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <h:head></h:head>
                                    <h:form id="formDoc" enctype="multipart/form-data">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                                            <h4 class="modal-title">Agregar Imagen/documento de Traslado de Bienes</h4>
                                        </div>
                                        <div class="modal-body">
                                            <fieldset>
                                                <div class="form-group">
                                                    <div class="col-md-3">
                                                        <label for="anio" >Año</label>
                                                        <div>
                                                            <p:inputText id="anioS" value="#{movBienesBean.anio}" style="width: 100%; color:#157ab5"> 
                                                                <p:ajax listener="#{movBienesBean.asigAnio()}" update="@this"/>
                                                            </p:inputText>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-3">
                                                        <label >Correlativo</label>
                                                        <div>
                                                            <p:inputText id="corrS" value="#{movBienesBean.correl}" style="width: 100%; color:#157ab5">
                                                                <p:ajax listener="#{movBienesBean.buscarMovI}" update="estmo" />
                                                            </p:inputText>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label >Estado del Movimiento</label>
                                                        <div>
                                                            <h:outputText id="estmo" value="#{movBienesBean.encaSeleccionado.CEstmovId.CEstmovDesc}" style="width: 100%; color:#157ab5"/>
                                                        </div>
                                                    </div>                                
                                                </div>
                                            </fieldset>
                                            <fieldset>
                                                <legend></legend>
                                                <div class="form-group">
                                                    <div class="col-md-3">
                                                        <label >Tipo de Archivo</label>
                                                        <h:selectOneMenu value="#{movBienesBean.nuevoArch.TArchTipo}">
                                                            <f:selectItem itemValue="F" itemLabel="Foto" />
                                                            <f:selectItem itemValue="D" itemLabel="Documento" />
                                                        </h:selectOneMenu>                                        
                                                    </div> 
                                                    <div class="col-md-3">
                                                        <label for="codi" >Código</label>
                                                        <div>
                                                            <p:inputMask id="codi" value="#{movBienesBean.nuevoArch.TArchCodref}" mask="99-9999-9999" style="width: 100%;"> 
                                                                <p:ajax listener="#{movBienesBean.buscarCodIT}" update="@this :formImag:growl :formImag:formDoc:guardI"/>
                                                            </p:inputMask>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-6">
                                                        <label for="descm" >Descripción Imagen/Documento</label>
                                                        <div>
                                                            <h:inputText id="descm" value="#{movBienesBean.nuevoArch.TArchDesc}" style="width: 100%;"/> 
                                                        </div>
                                                    </div>

                                                </div> 
                                            </fieldset>
                                            <br></br>
                                            <fieldset>
                                                <legend></legend>
                                                <div class="col-md-12">
                                                    <p:panelGrid id="doc1" columns="2" >
                                                        <p:fileUpload id="doc" fileUploadListener="#{movBienesBean.handleFileUpload(event)}" value="#{movBienesBean.picture}" mode="simple" required="true" sizeLimit="1000000" allowTypes="/(\.|\/)(gif|jpe?g|png)$/" update="mesaj" >
                                                            <p:growl id="mesaj" showDetail="true" />
                                                        </p:fileUpload>
                                                        <p:commandButton id="guardI" value="Guardar" ajax="false" disabled="#{movBienesBean.estadoI}" action="#{movBienesBean.guardarImagen()}" />
                                                    </p:panelGrid>  
                                                </div>
                                            </fieldset>
                                            <br></br>
                                        </div>
                                        <div class="modal-footer">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cancelar</button>
                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                        <div id="modifDoc" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <h:head></h:head>
                                    <h:form id="modImag" enctype="multipart/form-data">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cerrar ×</button>
                                            <h4 class="modal-title">Modificación de Documentos e Imágenes</h4>
                                        </div>
                                        <div class="modal-body">
                                            <h:panelGroup id="dispDoc2"  >  
                                                <fieldset>
                                                    <legend></legend>
                                                    <div class="form-group">
                                                        <div class="col-md-3">
                                                            <label for="ida" class="control-label">Corr Img</label>
                                                            <h:outputText id="ida" value="#{movBienesBean.archSeleccionado.TArchId}" style="width: 100%;" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label for="codia" class="control-label">Código</label>
                                                            <h:outputText id="codia" value="#{movBienesBean.archSeleccionado.TArchCodref}" style="width: 100%;" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="noma" class="control-label">Nombre del Archivo</label>
                                                            <h:outputText id="noma" value="#{movBienesBean.archSeleccionado.TArchNombre}" style="width: 100%;" class="form-control"/>    
                                                        </div>                                      
                                                    </div> 
                                                </fieldset>
                                                <br></br>
                                                <fieldset>
                                                    <legend></legend>
                                                    <div class="form-group">
                                                        <div class="col-md-6">
                                                            <label for="desci" class="control-label">Descripción</label>
                                                            <h:inputText id="desci" onkeyup="this.value = this.value.toUpperCase();" value="#{movBienesBean.archSeleccionado.TArchDesc}" style="width: 100%;" class="form-control"/> 
                                                        </div>        
                                                        <div class="col-md-3">
                                                            <label for="tipar" class="control-label">Archivo Tipo</label>
                                                            <h:selectOneMenu id="tipar" value="#{movBienesBean.archSeleccionado.TArchTipo}" style="width: 100%;" class="form-control">
                                                                <f:selectItem itemValue="F" itemLabel="Foto" />
                                                                <f:selectItem itemValue="D" itemLabel="Documento" />
                                                            </h:selectOneMenu>                                                
                                                        </div>                             
                                                        <div class="col-md-3">
                                                            <label for="ref" class="control-label">Referencia</label>
                                                            <h:outputText id="ref" value="#{movBienesBean.archSeleccionado.TArchTipref}" style="width: 100%;" class="form-control"/> 
                                                        </div>
                                                    </div>
                                                    <br></br>
                                                </fieldset>
                                                <fieldset>
                                                    <legend></legend>
                                                    <div class="form-group">
                                                        <div class="col-md-6">
                                                        </div>                                                 
                                                        <div class="col-md-6">
                                                            <p:commandButton id="actuaI" icon="ui-icon-pencil" styleClass="btn btn-primary" value="Actualizar"  action="#{movBienesBean.actualA()}"  rendered="#{!movBienesBean.edit}" update="@all" process="@this :formImag:modImag:dispDoc2"  oncomplete="refrescarI(xhr, status, args); ;modifDoc.hide();" />
                                                            <script type="text/javascript">
                                                                function refrescarI(xhr, status, args) {
                                                                    if (args.validationFailed) {
                                                                        alert('Ha ocurrido un error');
                                                                    } else {
                                                                        alert('Datos actualizados correctamente');
                                                                        location.reload(true);
                                                                        modifDoc.hide();
                                                                    }
                                                                }
                                                            </script>                                                    
                                                        </div>                                             
                                                    </div>
                                                </fieldset>
                                            </h:panelGroup>  
                                        </div>
                                        <div class="modal-footer">
                                            <!--<button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cancelar</button>-->
                                        </div>

                                    </h:form>
                                </div>
                            </div>
                        </div>
                        <div id="viewDoc" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <h:head></h:head>
                                    <h:form id="verDoc" enctype="multipart/form-data"> 
                                        <p:growl id="growl" />
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cerrar ×</button>
                                            <h4 class="modal-title">Descargar Documento o Imagen</h4>
                                        </div>
                                        <div class="modal-body">
                                            <h:panelGroup id="dispDocD"  >  
                                                <fieldset>
                                                    <div class="form-group">
                                                        <div class="col-md-3">
                                                            <label for="ida" class="control-label">Corr Img</label>
                                                            <h:outputText id="ida" value="#{movBienesBean.archSeleccionado.TArchId}" style="width: 100%; color:#157ab5" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label for="codia" class="control-label">Código</label>
                                                            <h:outputText id="codia" value="#{movBienesBean.archSeleccionado.TArchCodref}" style="width: 100%; color:#157ab5" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="noma" class="control-label">Nombre del Archivo</label>
                                                            <h:outputText id="noma" value="#{movBienesBean.archSeleccionado.TArchNombre}" style="width: 100%; color:#157ab5" class="form-control"/>    
                                                        </div>                                      
                                                    </div>
                                                </fieldset>
                                                <br></br>
                                                <fieldset>
                                                    <legend></legend>
                                                    <div class="form-group">
                                                        <div class="col-md-6">
                                                            <label for="desci" class="control-label">Descripción</label>
                                                            <h:inputText id="desci" onkeyup="this.value = this.value.toUpperCase();" value="#{movBienesBean.archSeleccionado.TArchDesc}" style="width: 100%; color:#157ab5" class="form-control"/> 
                                                        </div>        
                                                        <div class="col-md-3">
                                                            <label for="tipar" class="control-label">Archivo Tipo</label>
                                                            <h:selectOneMenu id="tipar" value="#{movBienesBean.archSeleccionado.TArchTipo}" style="width: 100%; color:#157ab5" class="form-control">
                                                                <f:selectItem itemValue="F" itemLabel="Foto" />
                                                                <f:selectItem itemValue="D" itemLabel="Documento" />
                                                            </h:selectOneMenu>                                                
                                                        </div>                             
                                                        <div class="col-md-3">
                                                            <label for="ref" class="control-label">Referencia</label>
                                                            <h:outputText id="ref" value="#{movBienesBean.archSeleccionado.TArchTipref}" style="width: 100%; color:#157ab5" class="form-control"/> 
                                                        </div>
                                                    </div>
                                                </fieldset>
                                                <br></br>
                                                <p:graphicImage cache="false" height="200" id="dimage" title="imagen" value="#{movBienesBean.imagen}" width="200">
                                                </p:graphicImage>

                                            </h:panelGroup>  
                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>
                        <div id="elimDoc" class="modal">
                            <div class="modal-dialog">
                                <div class="modal-content">
                                    <h:head></h:head>
                                    <h:form id="elimImag" enctype="multipart/form-data">
                                        <div class="modal-header">
                                            <button type="button" class="close" data-dismiss="modal" aria-hidden="true">Cerrar ×</button>
                                            <h4 class="modal-title">Eliminar Documento o Imagen</h4>
                                        </div>
                                        <div class="modal-body">
                                            <h:panelGroup id="dispDoc3" >  
                                                <fieldset>
                                                    <legend></legend>

                                                    <div class="form-group">
                                                        <div class="col-md-3">
                                                            <label for="idae" class="control-label">Corr Img</label>
                                                            <h:outputText id="idae" value="#{movBienesBean.archSeleccionado.TArchId}" style="width: 100%;" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-3">
                                                            <label for="codiae" class="control-label">Código</label>
                                                            <h:outputText id="codiae" value="#{movBienesBean.archSeleccionado.TArchCodref}" style="width: 100%;" class="form-control"/>    
                                                        </div>
                                                        <div class="col-md-6">
                                                            <label for="nomae" class="control-label">Nombre del Archivo</label>
                                                            <h:outputText id="nomae" value="#{movBienesBean.archSeleccionado.TArchNombre}" style="width: 100%;" class="form-control"/>    
                                                        </div>                                      
                                                    </div> 
                                                </fieldset>
                                                <br></br>
                                                <fieldset>
                                                    <legend></legend>

                                                    <div class="form-group">
                                                        <div class="col-md-6">
                                                            <label for="descie" class="control-label">Descripción</label>
                                                            <h:inputText id="descie" onkeyup="this.value = this.value.toUpperCase();" value="#{movBienesBean.archSeleccionado.TArchDesc}" style="width: 100%;" class="form-control"/> 
                                                        </div>        
                                                        <div class="col-md-3">
                                                            <label for="tipare" class="control-label">Archivo Tipo</label>
                                                            <h:selectOneMenu id="tipare" value="#{movBienesBean.archSeleccionado.TArchTipo}" style="width: 100%;" class="form-control">
                                                                <f:selectItem itemValue="F" itemLabel="Foto" />
                                                                <f:selectItem itemValue="D" itemLabel="Documento" />
                                                            </h:selectOneMenu>                                                
                                                        </div>                             
                                                        <div class="col-md-3">
                                                            <label for="refe" class="control-label">Referencia</label>
                                                            <h:outputText id="refe" value="#{movBienesBean.archSeleccionado.TArchTipref}" style="width: 100%;" class="form-control"/> 
                                                        </div>
                                                    </div>
                                                </fieldset>
                                                <br></br>
                                                <div class="form-group">
                                                    <div class="col-md-10">
                                                        <p:commandButton id="elimI" icon="ui-icon-delete" styleClass="btn btn-primary" value="Confirmar Eliminación Imagen"  action="#{movBienesBean.borrarA()}"  update="@this :formImag" process="@this :formImag:elimImag:dispDoc3"  oncomplete="refrescarIe(xhr, status, args); ;elimDoc.hide();" />
                                                        <script type="text/javascript">
                                                            function refrescarIe(xhr, status, args) {
                                                                if (args.validationFailed) {
                                                                    alert('Ha ocurrido un error');
                                                                } else {
                                                                    alert('Imagen eliminada correctamente');
                                                                    location.reload(true);
                                                                    elimDoc.hide();
                                                                }
                                                            }
                                                        </script>                                                    
                                                    </div>                                      
                                                </div>
                                            </h:panelGroup>  

                                        </div>
                                    </h:form>
                                </div>
                            </div>
                        </div>


                    </h:form>

                </div>
            </div>
        </ui:define>
        <ui:define name="scripts">
            <script>
                $(document).ready(function () {
                    $('.paginada').dataTable(
                            {
                                "oLanguage": {
                                    "sProcessing": "Procesando...",
                                    "sLengthMenu": "Mostrar _MENU_ registros",
                                    "sZeroRecords": "No se encontraron resultados",
                                    "sEmptyTable": "Ningún dato disponible en esta tabla",
                                    "sInfo": "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
                                    "sInfoEmpty": "Mostrando registros del 0 al 0 de un total de 0 registros",
                                    "sInfoFiltered": "(filtrado de un total de _MAX_ registros)",
                                    "sInfoPostFix": "",
                                    "sSearch": "Buscar:",
                                    "sUrl": "",
                                    "sInfoThousands": ",",
                                    "sLoadingRecords": "Cargando...",
                                    "oPaginate": {
                                        "sFirst": "Primero",
                                        "sLast": "Último",
                                        "sNext": "Siguiente",
                                        "sPrevious": "Anterior"
                                    },
                                    "oAria": {
                                        "sSortAscending": ": Activar para ordenar la columna de manera ascendente",
                                        "sSortDescending": ": Activar para ordenar la columna de manera descendente"
                                    }
                                }
                            }
                    );
                });
            </script>

        </ui:define>

    </ui:composition>
</html>
